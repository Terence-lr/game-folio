<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameFolio - 3D Portfolio MVP</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: linear-gradient(135deg, #0a0a2e 0%, #1a1a3a 50%, #2a2a4a 100%);
            font-family: 'Arial', sans-serif;
        }
        
        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        
        #info {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #87ceeb;
            z-index: 100;
            max-width: 300px;
        }
        
        #controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #4a90e2;
            z-index: 100;
        }
        
        .control-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        
        .key {
            background: #4a4a4a;
            padding: 3px 8px;
            border-radius: 3px;
            font-weight: bold;
            color: #87ceeb;
        }
        
        #loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 24px;
            z-index: 200;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="loading">Loading 3D World...</div>
        
        <div id="info">
            <h2>ðŸŽ® GameFolio MVP</h2>
            <p>Welcome to my 3D portfolio world!</p>
            <p>Explore the environment and interact with the portfolio items.</p>
        </div>
        
        <div id="controls">
            <h3>Controls</h3>
            <div class="control-row">
                <span class="key">W</span>
                <span>Move Forward</span>
            </div>
            <div class="control-row">
                <span class="key">S</span>
                <span>Move Backward</span>
            </div>
            <div class="control-row">
                <span class="key">A</span>
                <span>Move Left</span>
            </div>
            <div class="control-row">
                <span class="key">D</span>
                <span>Move Right</span>
            </div>
            <div class="control-row">
                <span class="key">Mouse</span>
                <span>Look Around</span>
            </div>
            <div class="control-row">
                <span class="key">Click</span>
                <span>Interact</span>
            </div>
        </div>
    </div>

    <script type="module">
        import * as THREE from 'https://unpkg.com/three@0.180.0/build/three.module.js';
        import { OrbitControls } from 'https://unpkg.com/three@0.180.0/examples/jsm/controls/OrbitControls.js';

        // Scene setup
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x0a0a2e);
        scene.fog = new THREE.Fog(0x0a0a2e, 10, 100);

        // Camera
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 5, 15);

        // Renderer
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        renderer.outputEncoding = THREE.sRGBEncoding;
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1.0;
        document.getElementById('container').appendChild(renderer.domElement);

        // Controls
        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.enableZoom = true;
        controls.enablePan = true;

        // Lighting
        const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0x87ceeb, 1.0);
        directionalLight.position.set(10, 10, 5);
        directionalLight.castShadow = true;
        directionalLight.shadow.mapSize.width = 2048;
        directionalLight.shadow.mapSize.height = 2048;
        directionalLight.shadow.camera.near = 0.5;
        directionalLight.shadow.camera.far = 50;
        scene.add(directionalLight);

        // Ground
        const groundGeometry = new THREE.PlaneGeometry(50, 50);
        const groundMaterial = new THREE.MeshLambertMaterial({ color: 0x2d5016 });
        const ground = new THREE.Mesh(groundGeometry, groundMaterial);
        ground.rotation.x = -Math.PI / 2;
        ground.receiveShadow = true;
        scene.add(ground);

        // Character (simple cube for now)
        const characterGeometry = new THREE.BoxGeometry(1, 2, 1);
        const characterMaterial = new THREE.MeshLambertMaterial({ color: 0x6b7280 });
        const character = new THREE.Mesh(characterGeometry, characterMaterial);
        character.position.set(0, 1, 0);
        character.castShadow = true;
        scene.add(character);

        // Portfolio items (colored cubes)
        const portfolioItems = [
            { position: [-10, 1, -10], color: 0x87ceeb, title: "Web Dev" },
            { position: [0, 1, -15], color: 0xa8e6cf, title: "Game Dev" },
            { position: [10, 1, -10], color: 0x4a90e2, title: "AI/ML" }
        ];

        const portfolioMeshes = [];
        portfolioItems.forEach((item, index) => {
            const geometry = new THREE.BoxGeometry(2, 2, 2);
            const material = new THREE.MeshLambertMaterial({ color: item.color });
            const mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(item.position[0], item.position[1], item.position[2]);
            mesh.castShadow = true;
            mesh.receiveShadow = true;
            mesh.userData = { title: item.title, index: index };
            scene.add(mesh);
            portfolioMeshes.push(mesh);
        });

        // Decorative objects
        for (let i = 0; i < 20; i++) {
            const geometry = new THREE.SphereGeometry(0.5, 8, 6);
            const material = new THREE.MeshLambertMaterial({ 
                color: new THREE.Color().setHSL(Math.random(), 0.7, 0.6)
            });
            const mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(
                (Math.random() - 0.5) * 40,
                Math.random() * 3 + 0.5,
                (Math.random() - 0.5) * 40
            );
            mesh.castShadow = true;
            scene.add(mesh);
        }

        // Raycaster for interactions
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();

        // Mouse interaction
        function onMouseClick(event) {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(portfolioMeshes);

            if (intersects.length > 0) {
                const clickedObject = intersects[0].object;
                alert(`Clicked on: ${clickedObject.userData.title}`);
            }
        }

        window.addEventListener('click', onMouseClick);

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);

            // Rotate portfolio items
            portfolioMeshes.forEach((mesh, index) => {
                mesh.rotation.y += 0.01;
                mesh.position.y = portfolioItems[index].position[1] + Math.sin(Date.now() * 0.001 + index) * 0.3;
            });

            // Update controls
            controls.update();

            // Render
            renderer.render(scene, camera);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Hide loading screen and start animation
        setTimeout(() => {
            document.getElementById('loading').style.display = 'none';
            animate();
        }, 1000);
    </script>
</body>
</html>